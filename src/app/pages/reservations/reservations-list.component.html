<div class="dashboard-container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="logo"> <a routerLink="/home">
    <img src="assets/logo.png" alt="OffiSeat Logo">
  </a></div>
    <nav class="menu">
      <a routerLink="/dashboard" >Dashboard</a>
      <a routerLink="/reservations" class="active">My Reservations</a>
      <a routerLink="/book-room">Book a Room</a>
      <a routerLink="/book-seat">Book my seat</a>
      <a routerLink="/traffic">Traffic</a>
      <a routerLink="/weather">Weather</a>
    </nav>
  </aside>
  <main class="content">
  <h2>My Reservations</h2>

  <div class="table-section">
    <button class="create-btn" routerLink="/book-room">+ Create Reservation</button>

    <div *ngIf="loading">Loading your reservations...</div>
    <div *ngIf="error" class="error">{{ error }}</div>

    <div class="table-card" *ngIf="!loading && !error && reservations.length > 0">
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Start</th>
            <th>End</th>
            <th>Seat</th>
            <th>Room</th>
            <th>Floor</th>
            <th>Building</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let r of reservations">
            <td>{{ r.reservationDate }}</td>
            <td>{{ r.startTime }}</td>
            <td>{{ r.endTime }}</td>
            <td>{{ r.seatNumber }}</td>
            <td>{{ r.roomName }}</td>
            <td>{{ r.floorName }}</td>
            <td>{{ r.buildingName }}</td>
            <td>{{ r.status }}</td>
            <td>
              <button class="cancel-btn" (click)="cancelReservation(r.id)">Cancel</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="!loading && !error && reservations.length === 0">
      <p>No reservations found.</p>
    </div>
  </div>
</main>
</div>